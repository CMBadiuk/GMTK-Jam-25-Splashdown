[gd_scene load_steps=13 format=3 uid="uid://cr75xubf3ymsk"]

[ext_resource type="PackedScene" uid="uid://ckwn072cvvxnx" path="res://player.tscn" id="1_2dftf"]
[ext_resource type="Script" path="res://world.gd" id="1_fv4w7"]
[ext_resource type="PackedScene" uid="uid://crseh7g7s6ifg" path="res://river_current.tscn" id="2_bcbcq"]
[ext_resource type="PackedScene" uid="uid://bjw4wekrxr8ne" path="res://wave_counter.tscn" id="2_f5c0m"]
[ext_resource type="Script" uid="uid://bojrycaqjoexf" path="res://river_currents.gd" id="2_p1v5b"]
[ext_resource type="Texture2D" uid="uid://caohu6l23fm0u" path="res://Textures/Pool Path/River6.png" id="4_fvag4"]
[ext_resource type="Texture2D" uid="uid://brmr3ch8d7pg" path="res://Textures/GMTK25-BackgroundPlaceholder.jpg" id="6_p1v5b"]
[ext_resource type="PackedScene" uid="uid://cvgn0pkfdfsvd" path="res://game_hud.tscn" id="7_bah7m"]
[ext_resource type="PackedScene" uid="uid://cdyjrifsksata" path="res://game_over_screen.tscn" id="9_fvag4"]
[ext_resource type="PackedScene" uid="uid://duprj2epfk8jx" path="res://spawn_point.tscn" id="11_kva58"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2dftf"]
size = Vector2(1905.21, 79.6044)

[sub_resource type="NavigationPolygon" id="NavigationPolygon_eu7l1"]
vertices = PackedVector2Array(2744, -768, 3934, -1170.64, 3934, -477.07, 2268.77, 741.961, 1968, -240, 27.1172, 718.031, 256, -240, -504, -760, -1766, -501.289, -1766, -1050.92, 2188.97, -2334, 1960, -1296, -12.7266, -2334, 240, -1288)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4), PackedInt32Array(4, 3, 5, 6), PackedInt32Array(7, 6, 5, 8, 9), PackedInt32Array(10, 1, 0, 11), PackedInt32Array(12, 10, 11, 13), PackedInt32Array(9, 12, 13, 7)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1776, -1056, -1776, -496, 24, 728, 2272, 752, 3944, -472, 3944, -1176, 2192, -2344, -16, -2344)])

[node name="World" type="Node"]
script = ExtResource("1_fv4w7")

[node name="SpawnPoints" type="Node" parent="."]

[node name="SpawnPoint" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(2928, -1111)
rotation = 0.463478
spawn_type = 1
allowed_area = NodePath("../../WaterArea")

[node name="SpawnPoint2" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(173, -1571)
spawn_type = 1
move_radius_x = 1000.0
move_radius_y = 1000.0
allowed_area = NodePath("../../WaterArea")

[node name="SpawnPoint3" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(-712, -51)
rotation = 0.585642
move_radius_x = 1000.0
move_radius_y = 1000.0
allowed_area = NodePath("../../LandArea")

[node name="SpawnPoint4" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(1112, 568)
allowed_area = NodePath("../../LandArea")

[node name="SpawnPoint5" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(1010, -692)
allowed_area = NodePath("../../LandArea")

[node name="Player" parent="." instance=ExtResource("1_2dftf")]
z_index = 1
position = Vector2(320, -96)

[node name="RiverCurrents" type="Node" parent="." node_paths=PackedStringArray("river_currents")]
unique_name_in_owner = true
script = ExtResource("2_p1v5b")
river_currents = [NodePath("RiverCurrent"), NodePath("RiverCurrent2"), NodePath("RiverCurrent5"), NodePath("RiverCurrent3"), NodePath("RiverCurrent6"), NodePath("RiverCurrent4")]

[node name="RiverCurrent" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(1112, 16)

[node name="RiverCurrent2" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(2664, -400)
rotation = -0.597879
scale = Vector2(0.80021, 1)
current_direction = Vector2(1, -0.5)

[node name="RiverCurrent5" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(-438, -406)
rotation = 0.592907
scale = Vector2(0.80021, 1)
current_direction = Vector2(1, 0.5)

[node name="RiverCurrent3" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(2677, -1131)
rotation = -2.54879
scale = Vector2(0.80021, 1)
current_direction = Vector2(-1, -0.5)

[node name="RiverCurrent6" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(-409, -1145)
rotation = -0.594415
scale = Vector2(0.80021, 1)
current_direction = Vector2(-1, 0)

[node name="RiverCurrent4" parent="RiverCurrents" instance=ExtResource("2_bcbcq")]
position = Vector2(1159, -1545)
rotation = -3.1421
scale = Vector2(1.04021, 1)
current_direction = Vector2(-1, 0)

[node name="River6" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(592, 40)
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River7" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(1560, 40)
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River10" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(588.8, -1523.2)
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River11" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(1556.8, -1523.2)
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River8" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(2496, -248)
rotation = -0.58315
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River9" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(2464, -1240)
rotation = 0.615842
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River12" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(-416, -1128)
rotation = -0.58315
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="River13" type="Sprite2D" parent="RiverCurrents"]
z_index = -1
position = Vector2(-376.829, -328.829)
rotation = 0.615842
scale = Vector2(2.8, 2.8)
texture = ExtResource("4_fvag4")

[node name="RedCollisionBodies" type="Node" parent="."]

[node name="StaticBody2D" type="StaticBody2D" parent="RedCollisionBodies"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D"]
position = Vector2(1097, -280)
scale = Vector2(0.9029, 1)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D5" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(0, -971)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D5"]
position = Vector2(1097, -280)
scale = Vector2(0.9029, 1)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D2" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(71, -1916)
scale = Vector2(1.10122, 1.00696)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D2"]
position = Vector2(954.396, 65.5438)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D6" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(71, 253)
scale = Vector2(1.10122, 1.00696)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D6"]
position = Vector2(954.396, 65.5438)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D3" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(2048, -6.10352e-05)
rotation = -0.595204
scale = Vector2(0.485931, 1.00014)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D3"]
position = Vector2(1085.79, -281.562)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D9" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(-336, -504)
rotation = -0.595204
scale = Vector2(0.441077, 1.00014)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D9"]
position = Vector2(1142.86, -287.832)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D10" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(-1253, -558)
rotation = -0.595204
scale = Vector2(0.941426, 1.21198)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D10"]
position = Vector2(1047.76, -266.009)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D13" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(-1253, -558)
rotation = -0.595204
scale = Vector2(0.941426, 1.21198)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D13"]
position = Vector2(170.742, -144.363)
rotation = -0.86613
scale = Vector2(0.193746, 1)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D14" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(3425, -558)
rotation = -0.595204
scale = Vector2(0.941426, 1.21198)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D14"]
position = Vector2(170.742, -144.363)
rotation = -0.86613
scale = Vector2(0.193746, 1)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D4" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(2240, 584)
rotation = -0.595204
scale = Vector2(0.874901, 1.01209)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D4"]
position = Vector2(1032, -280)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D7" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(-1672, -535)
rotation = 0.595157
scale = Vector2(0.986, 1.01209)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D7"]
position = Vector2(1032, -280)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D8" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(1912, -1665)
rotation = 0.595157
scale = Vector2(0.986, 1.01209)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D8"]
position = Vector2(1032, -280)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D11" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(1750, -1050)
rotation = 0.595157
scale = Vector2(0.486987, 1.01796)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D11"]
position = Vector2(1032, -280)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="StaticBody2D12" type="StaticBody2D" parent="RedCollisionBodies"]
position = Vector2(1750, -1050)
rotation = 0.595157
scale = Vector2(0.486987, 1.01796)

[node name="CollisionShape2D" type="CollisionShape2D" parent="RedCollisionBodies/StaticBody2D12"]
position = Vector2(-2531.15, 1439.09)
scale = Vector2(1.00212, 1)
shape = SubResource("RectangleShape2D_2dftf")
debug_color = Color(1, 0, 0, 0.419608)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_eu7l1")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="NavigationRegion2D"]
vertices = PackedVector2Array(-504, -760, 256, -240, 1968, -240, 2744, -768, 1960, -1296, 240, -1288)
affect_navigation_mesh = true
carve_navigation_mesh = true

[node name="Background" type="Sprite2D" parent="."]
z_index = -2
position = Vector2(1048, -736)
scale = Vector2(2, 2)
texture = ExtResource("6_p1v5b")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameHUD" parent="CanvasLayer" instance=ExtResource("7_bah7m")]

[node name="GameOverScreen" parent="CanvasLayer" instance=ExtResource("9_fvag4")]
visible = false

[node name="WaveCounter" parent="." instance=ExtResource("2_f5c0m")]
position = Vector2(1744, 0)
scale = Vector2(15.72, 16.44)

[node name="WaterArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WaterArea"]
polygon = PackedVector2Array(-23, -462, -491, -779, 236, -1289, 1960, -1294, 2730, -770, 1963, -237, 256, -237, 125, 276, 2129, 276, 3427, -608, 3419, -944, 2147, -1802, 118, -1805, -1180, -940, -1174, -589, 63, 271, 205, -270)

[node name="LandArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LandArea"]
polygon = PackedVector2Array(-357, -778, 250, -1206, 1955, -1212, 2592, -764, 1932, -317, 290, -307)
