[gd_scene load_steps=17 format=3 uid="uid://cr75xubf3ymsk"]

[ext_resource type="PackedScene" uid="uid://ckwn072cvvxnx" path="res://player.tscn" id="1_2dftf"]
[ext_resource type="Script" uid="uid://uxffqmy84r6c" path="res://world.gd" id="1_fv4w7"]
[ext_resource type="PackedScene" uid="uid://bjw4wekrxr8ne" path="res://wave_counter.tscn" id="2_f5c0m"]
[ext_resource type="Script" uid="uid://bojrycaqjoexf" path="res://river_currents.gd" id="2_p1v5b"]
[ext_resource type="PackedScene" uid="uid://d1pl6aahas7gb" path="res://river_current_straight.tscn" id="6_f5c0m"]
[ext_resource type="Texture2D" uid="uid://ci2lb6kgybe6y" path="res://Textures/PoolTile.png" id="7_b2ar6"]
[ext_resource type="PackedScene" uid="uid://cvgn0pkfdfsvd" path="res://game_hud.tscn" id="7_bah7m"]
[ext_resource type="PackedScene" uid="uid://cd00tfjd0hynr" path="res://river_current_corner.tscn" id="7_ee7l0"]
[ext_resource type="PackedScene" uid="uid://cdyjrifsksata" path="res://game_over_screen.tscn" id="9_fvag4"]
[ext_resource type="PackedScene" uid="uid://b6kcd7bc6s7xf" path="res://pause_menu.tscn" id="10_b2ar6"]
[ext_resource type="AudioStream" uid="uid://cyormj8tj7sfn" path="res://Sound/Music/War (No Foghorn)/Splashdown ost 1 - war (no foghorn)_Master.mp3" id="11_f5c0m"]
[ext_resource type="PackedScene" uid="uid://duprj2epfk8jx" path="res://spawn_point.tscn" id="11_kva58"]
[ext_resource type="AudioStream" uid="uid://0s2kgperxkgx" path="res://Sound/Music/Shoppe/Splashdown ost 2 - shoppe_Master.mp3" id="12_f5c0m"]
[ext_resource type="PackedScene" uid="uid://u33oajniruc8" path="res://river_current_wobble.tscn" id="14_gn8l5"]
[ext_resource type="PackedScene" uid="uid://cumfs6lmc5q0h" path="res://dialogue_box.tscn" id="15_gn8l5"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_eu7l1"]
vertices = PackedVector2Array(4853.94, -1974, 4838.03, -1273.69, 4664.01, -743.742, 4120, -1408, 4112, -2040, 4544.69, -2671.81, 4012.71, -2838.55, 3552, -2224, 3098.69, -2806, 3496.88, -3036.94, 3264, -2088, 1969.42, -2806, 1848, -2104, 1312, -2368, 1088, -2728, 3912, -1216, 3942.29, -482.008, 3178.63, -490.063, 2560, -888, 2904, -1120, 3304, -1232, 2344, -464, 2016, -400, 2785.49, 111.68, 2286.27, 286, -479.273, 301.992, 248, -392, -552, -408, -938.141, 230.789, -1358.09, -395.172, 1616.51, -3624.1, 1080, -3104, -413.922, -3893.98, 910.156, -3886.01, -376, -3128, -935.844, -3664.65, -880.93, -2447.77, -1165.13, -2945.14, -352, -2936, -365.422, -2214.19, 248, -2600, 336, -2016, -382.656, -2016.01, 72, -1416, -552, -1352, -1033.1, -1855.4, -1381.92, -1149.83)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3, 4, 5), PackedInt32Array(6, 5, 4, 7), PackedInt32Array(8, 9, 6, 7, 10), PackedInt32Array(11, 8, 10, 12, 13, 14), PackedInt32Array(15, 3, 2, 16, 17), PackedInt32Array(18, 19, 20, 15, 17, 21), PackedInt32Array(22, 21, 17, 23, 24, 25), PackedInt32Array(26, 22, 25), PackedInt32Array(27, 26, 25, 28, 29), PackedInt32Array(30, 11, 14, 31), PackedInt32Array(32, 33, 30, 31, 34, 35), PackedInt32Array(36, 37, 35, 34, 38, 39), PackedInt32Array(39, 38, 40, 41), PackedInt32Array(42, 39, 41, 43), PackedInt32Array(42, 43, 44, 45), PackedInt32Array(46, 45, 44, 27, 29)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1392, -1152, -1368, -392, -944, 240, -480, 312, 2288, 296, 2792, 120, 3184, -480, 3944, -472, 4672, -736, 4848, -1272, 4864, -1976, 4552, -2680, 4016, -2848, 3496, -3048, 3096, -2816, 1976, -2816, 1624, -3632, 912, -3896, -416, -3904, -944, -3672, -1176, -2944, -888, -2440, -376, -2208, -392, -2024, -1040, -1864)])

[node name="World" type="Node"]
script = ExtResource("1_fv4w7")

[node name="TextureRect" type="TextureRect" parent="."]
offset_left = -4376.0
offset_top = -5520.0
offset_right = 7240.0
offset_bottom = 3232.0
texture = ExtResource("7_b2ar6")
stretch_mode = 1

[node name="SpawnPoints" type="Node" parent="."]

[node name="SpawnPoint" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(2928, -1111)
rotation = 0.463478
spawn_type = 1
allowed_area = NodePath("../../WaterArea")

[node name="SpawnPoint2" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(173, -1571)
spawn_type = 1
move_radius_x = 1000.0
move_radius_y = 1000.0
allowed_area = NodePath("../../WaterArea")

[node name="SpawnPoint3" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(-712, -51)
rotation = 0.585642
move_radius_x = 1000.0
move_radius_y = 1000.0
allowed_area = NodePath("../../LandArea")

[node name="SpawnPoint4" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(1112, 568)
allowed_area = NodePath("../../LandArea")

[node name="SpawnPoint5" parent="SpawnPoints" node_paths=PackedStringArray("allowed_area") instance=ExtResource("11_kva58")]
position = Vector2(1010, -692)
allowed_area = NodePath("../../LandArea")

[node name="Player" parent="." instance=ExtResource("1_2dftf")]
z_index = 1
position = Vector2(-1000, -608)

[node name="RiverCurrents" type="Node" parent="." node_paths=PackedStringArray("river_currents")]
unique_name_in_owner = true
script = ExtResource("2_p1v5b")
river_currents = [NodePath("RiverCurrentStraight"), NodePath("RiverCurrentStraight11"), NodePath("RiverCurrentStraight2"), NodePath("RiverCurrentStraight4"), NodePath("RiverCurrentStraight5"), NodePath("RiverCurrentStraight10"), NodePath("RiverCurrentStraight6"), NodePath("RiverCurrentStraight7"), NodePath("RiverCurrentStraight8"), NodePath("RiverCurrentStraight9"), NodePath("RiverCurrentStraight3"), NodePath("RiverCurrentCorner"), NodePath("RiverCurrentCorner3"), NodePath("RiverCurrentCorner10"), NodePath("RiverCurrentCorner4"), NodePath("RiverCurrentCorner5"), NodePath("RiverCurrentCorner6"), NodePath("RiverCurrentCorner9"), NodePath("RiverCurrentCorner7"), NodePath("RiverCurrentCorner11"), NodePath("RiverCurrentCorner8"), NodePath("RiverCurrentCorner12"), NodePath("RiverCurrentCorner2")]

[node name="RiverCurrentStraight" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(488, -40)
scale = Vector2(2, 2)

[node name="RiverCurrentStraight11" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(-216, -40)
scale = Vector2(2, 2)

[node name="RiverCurrentStraight2" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(1192, -40)
scale = Vector2(2, 2)

[node name="RiverCurrentStraight4" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(3584, -856)
scale = Vector2(2, 2)

[node name="RiverCurrentStraight5" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(4416, -1656)
rotation = 1.5708
scale = Vector2(2, 2)
current_direction = Vector2(0, -1)

[node name="RiverCurrentStraight10" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(-1040, -952)
rotation = 1.5708
scale = Vector2(2, 2)
current_direction = Vector2(0, 1)

[node name="RiverCurrentStraight6" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(2952, -2544)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, 0)

[node name="RiverCurrentStraight7" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(2240, -2544)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, 0)

[node name="RiverCurrentStraight8" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(720, -3544)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, 0)

[node name="RiverCurrentStraight9" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(16, -3544)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, 0)

[node name="RiverCurrentStraight3" parent="RiverCurrents" instance=ExtResource("6_f5c0m")]
position = Vector2(1896, -40)
scale = Vector2(2, 2)

[node name="RiverCurrentCorner" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(2560, -176)
rotation = -1.5708
scale = Vector2(2, 2)
current_direction = Vector2(1, -1)

[node name="RiverCurrentCorner3" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(4256, -992)
rotation = -1.5708
scale = Vector2(2, 2)
current_direction = Vector2(1, -1)

[node name="RiverCurrentCorner10" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-208, -1800)
rotation = -1.5708
scale = Vector2(2, 2)
current_direction = Vector2(-1, 1)

[node name="RiverCurrentCorner4" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(4344, -2296)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, -1)

[node name="RiverCurrentCorner5" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(1568, -2704)
scale = Vector2(2, 2)
current_direction = Vector2(-1, -1)

[node name="RiverCurrentCorner6" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(1360, -3312)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, -1)

[node name="RiverCurrentCorner9" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-128, -2416)
rotation = -3.14159
scale = Vector2(2, 2)
current_direction = Vector2(1, 1)

[node name="RiverCurrentCorner7" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-656, -3408)
rotation = 1.5708
scale = Vector2(2, 2)
current_direction = Vector2(-1, 1)

[node name="RiverCurrentCorner11" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-816, -1592)
rotation = 1.5708
scale = Vector2(2, 2)
current_direction = Vector2(-1, 1)

[node name="RiverCurrentCorner8" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-736, -2800)
scale = Vector2(2, 2)
current_direction = Vector2(1, 1)

[node name="RiverCurrentCorner12" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(-904, -280)
scale = Vector2(2, 2)
current_direction = Vector2(1, 1)

[node name="RiverCurrentCorner2" parent="RiverCurrents" instance=ExtResource("7_ee7l0")]
position = Vector2(2944, -784)
rotation = 1.5708
scale = Vector2(2, 2)
current_direction = Vector2(1, -1)

[node name="RedCollisionBodies" type="Node" parent="."]

[node name="Area2D" type="StaticBody2D" parent="RedCollisionBodies"]
collision_mask = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RedCollisionBodies/Area2D"]
polygon = PackedVector2Array(-608, -3128, -608, -2968, -536, -2896, -408, -2832, -160, -2760, 0, -2664, 112, -2472, 192, -2336, 200, -2128, 176, -1968, 120, -1784, -32, -1616, -280, -1488, -624, -1464, -744, -1376, -792, -1192, -784, -816, -776, -464, -704, -368, -504, -296, 2384, -304, 2496, -408, 2568, -632, 2648, -848, 2776, -976, 2976, -1080, 3192, -1120, 4064, -1120, 4176, -1216, 4224, -1424, 4224, -1856, 4208, -2128, 4128, -2216, 4040, -2248, 3856, -2248, 3696, -2304, 3576, -2432, 3520, -2464, 3456, -2440, 3400, -2344, 3304, -2264, 1856, -2272, 1608, -2368, 1432, -2456, 1344, -2616, 1248, -2800, 1224, -3144, 1112, -3248, 960, -3280, -472, -3280, -560, -3216)

[node name="Area2D2" type="StaticBody2D" parent="RedCollisionBodies"]
collision_mask = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RedCollisionBodies/Area2D2"]
polygon = PackedVector2Array(-600, 144, -904, 40, -1096, -152, -1224, -352, -1216, -1336, -1136, -1600, -944, -1792, -744, -1912, -352, -1912, -232, -2040, -240, -2280, -368, -2400, -480, -2400, -736, -2480, -936, -2680, -1056, -2888, -1056, -3144, -976, -3416, -792, -3600, -576, -3728, -1768, -3736, -1784, 104)

[node name="Area2D3" type="StaticBody2D" parent="RedCollisionBodies"]
collision_mask = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RedCollisionBodies/Area2D3"]
polygon = PackedVector2Array(-568, -3736, 1072, -3736, 1368, -3632, 1552, -3456, 1688, -3240, 1680, -2856, 1808, -2728, 3248, -2736, 3312, -2864, 3384, -2912, 3592, -2920, 3728, -2888, 3936, -2720, 4128, -2688, 4352, -2616, 4544, -2424, 4664, -2216, 4672, -4808, -576, -4816)

[node name="Area2D4" type="StaticBody2D" parent="RedCollisionBodies"]
collision_mask = 7

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="RedCollisionBodies/Area2D4"]
polygon = PackedVector2Array(4664, -2192, 6000, -2200, 6024, 648, -680, 624, -664, 144, -552, 152, 2472, 144, 2696, 16, 2880, -168, 2960, -432, 2968, -552, 3088, -672, 4176, -672, 4400, -808, 4584, -992, 4664, -1248)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_eu7l1")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="NavigationRegion2D"]
vertices = PackedVector2Array(-552, -408, 248, -392, 2016, -400, 2344, -464, 2560, -888, 2904, -1120, 3304, -1232, 3912, -1216, 4120, -1408, 4112, -2040, 3552, -2224, 3264, -2088, 1848, -2104, 1312, -2368, 1088, -2728, 1080, -3104, -376, -3128, -352, -2936, 248, -2600, 336, -2016, 72, -1416, -552, -1352)
affect_navigation_mesh = true
carve_navigation_mesh = true

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameHUD" parent="CanvasLayer" instance=ExtResource("7_bah7m")]

[node name="GameOverScreen" parent="CanvasLayer" instance=ExtResource("9_fvag4")]
visible = false

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("10_b2ar6")]

[node name="WaveCounter" parent="." instance=ExtResource("2_f5c0m")]
position = Vector2(1744, -88)
scale = Vector2(15.72, 16.44)

[node name="WaterArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="WaterArea"]
position = Vector2(8, 0)
polygon = PackedVector2Array(-792, -416, -808, -592, -792, -1240, -712, -1400, -616, -1464, -288, -1480, -184, -1544, -80, -1608, 104, -1800, 184, -2056, 184, -2320, 56, -2552, -136, -2736, -392, -2816, -504, -2824, -632, -2944, -632, -3176, -520, -3296, 1112, -3288, 1232, -3160, 1240, -2784, 1360, -2576, 1560, -2384, 1808, -2304, 2024, -2288, 3288, -2288, 3448, -2472, 3544, -2472, 3712, -2312, 3912, -2248, 4024, -2264, 4096, -2264, 4216, -2144, 4216, -1224, 4104, -1104, 3240, -1104, 3008, -1104, 2800, -976, 2616, -784, 2536, -528, 2472, -368, 2368, -304, 152, -296, 152, 160, 2416, 144, 2680, 24, 2880, -176, 2952, -432, 2976, -560, 3096, -672, 3792, -664, 4168, -672, 4384, -792, 4576, -984, 4656, -1256, 4656, -2224, 4520, -2440, 4344, -2624, 3936, -2712, 3720, -2888, 3584, -2920, 3360, -2904, 3296, -2848, 3208, -2736, 1808, -2720, 1680, -2848, 1680, -3240, 1544, -3456, 1360, -3640, 1056, -3736, 352, -3736, -352, -3736, -568, -3736, -792, -3600, -976, -3424, -1064, -3144, -1048, -2880, -928, -2672, -744, -2480, -488, -2400, -360, -2392, -240, -2272, -248, -2024, -344, -1912, -752, -1888, -1008, -1752, -1128, -1600, -1232, -1328, -1232, -592, -1232, -368, -1112, -144, -904, 40, -560, 152, 144, 160, 144, -296, -560, -296, -672, -304)

[node name="LandArea" type="Area2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="LandArea"]
polygon = PackedVector2Array(-736, -376, -784, -432, -776, -1240, -704, -1376, -600, -1456, -272, -1472, -48, -1608, 120, -1776, 216, -2096, 200, -2344, 64, -2576, -120, -2744, -488, -2824, -616, -2968, -624, -3176, -512, -3296, 1112, -3288, 1240, -3176, 1240, -2776, 1368, -2568, 1560, -2384, 1816, -2296, 3312, -2280, 3456, -2464, 3552, -2464, 3728, -2304, 3920, -2240, 4032, -2256, 4104, -2256, 4208, -2128, 4208, -1224, 4096, -1120, 3024, -1112, 2800, -984, 2592, -764, 2472, -384, 2384, -304, -304, -320, -304, -584, 2296, -576, 2448, -984, 2896, -1320, 4016, -1360, 4016, -2040, 3536, -2192, 3256, -2016, 1888, -2008, 1448, -2096, 1008, -2720, 992, -3088, -304, -3088, 168, -2840, 432, -2520, 464, -2128, 376, -1720, 40, -1400, -296, -1240, -544, -1160, -528, -584, -312, -584, -312, -320, -648, -312)

[node name="MusicStream" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_f5c0m")
volume_db = -12.0

[node name="OpeningStream" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_f5c0m")
volume_db = -6.0
autoplay = true

[node name="RiverCurrentWobble" parent="." instance=ExtResource("14_gn8l5")]
position = Vector2(3664, -2600)
rotation = 3.14159
scale = Vector2(2, 2)
current_direction = Vector2(-1, 0)

[node name="DialogueBox" parent="." instance=ExtResource("15_gn8l5")]
